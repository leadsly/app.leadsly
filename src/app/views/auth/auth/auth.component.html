<div [ngClass]="_createAccount" class="container">
	<div class="form-container sign-up-container">
		<form [formGroup]="_signupForm" #signupFormDirective="ngForm" (ngSubmit)="_onSignup()" role="form" novalidate>
			<h3>Create Account</h3>
			<div>
				<mat-form-field appearance="standard">
					<mat-label>E-mail</mat-label>
					<input formControlName="email" matInput placeholder="example@gmail.com" type="email" autocomplete="email" />
					<mat-hint>
						<ng-container *ngIf="_signupFormEmailControlStatusChanges$ | async as status">
							<span *ngIf="status === 'PENDING' && !_isInternalServerError" class="check-availability-animation"
								>Checking availability<span>.</span><span>.</span><span>.</span>
							</span>
							<span *ngIf="status === 'VALID'">
								<mat-icon class="req-met" matPrefix>{{ 'task_alt' }}</mat-icon>
								E-mail is not registered.
							</span>
							<span *ngIf="_isInternalServerError">
								<mat-icon class="req-not-met" matPrefix>{{ 'clear' }}</mat-icon>
								{{ _getInternalServerErrorMessage() }}
							</span>
						</ng-container>
					</mat-hint>
					<mat-icon matSuffix>email</mat-icon>
					<mat-error *ngIf="_ifControlFieldIsInvalid(_signupForm?.get('email'), 'email')">{{
						_getEmailErrorMessage(_signupForm?.get('email').errors)
					}}</mat-error>
				</mat-form-field>
			</div>

			<div>
				<mat-form-field appearance="standard">
					<mat-label>First name</mat-label>
					<input matInput formControlName="firstName" />
					<mat-icon matSuffix>perm_identity</mat-icon>
					<mat-error *ngIf="_signupForm?.get('firstName').invalid">{{ _fieldRequiredMessage }}</mat-error>
				</mat-form-field>
			</div>

			<div>
				<mat-form-field appearance="standard">
					<mat-label>Last name</mat-label>
					<input matInput formControlName="lastName" />
					<mat-icon matSuffix>perm_identity</mat-icon>
				</mat-form-field>
			</div>

			<div>
				<mat-form-field appearance="standard">
					<mat-label>Password</mat-label>
					<input matInput formControlName="password" type="password" autocomplete="new-password" />
					<mat-hint>
						<span>
							<ng-container *ngIf="!_signupForm?.get('password').pristine">
								<mat-icon [ngClass]="_passwordLengthReqMet ? 'req-met' : 'req-not-met'" matPrefix>{{
									_passwordLengthReqMet ? 'task_alt' : 'clear'
								}}</mat-icon>
							</ng-container>
							Must be 8 characters long
						</span>
						<br />
						<span>
							<ng-container *ngIf="!_signupForm?.get('password').pristine">
								<mat-icon [ngClass]="_passwordUppercaseReqMet && _passwordLowercaseReqmet ? 'req-met' : 'req-not-met'" matPrefix>{{
									_passwordUppercaseReqMet && _passwordLowercaseReqmet ? 'task_alt' : 'clear'
								}}</mat-icon>
							</ng-container>
							Must contain 1 upper and lower case letter
						</span>
						<br />
						<span>
							<ng-container *ngIf="!_signupForm?.get('password').pristine">
								<mat-icon [ngClass]="_passwordDigitReqMet ? 'req-met' : 'req-not-met'" matPrefix>{{
									_passwordDigitReqMet ? 'task_alt' : 'clear'
								}}</mat-icon>
							</ng-container>
							Must contain 1 digit
						</span>
						<br />
						<span>
							<ng-container *ngIf="!_signupForm?.get('password').pristine">
								<mat-icon [ngClass]="_passwordSpecialCharacterReqMet ? 'req-met' : 'req-not-met'" matPrefix>{{
									_passwordSpecialCharacterReqMet ? 'task_alt' : 'clear'
								}}</mat-icon>
							</ng-container>
							Must contain (! @ # $ % & * _ ?)</span
						></mat-hint
					>
					<mat-icon matSuffix>lock</mat-icon>
					<mat-error *ngIf="_ifControlFieldIsInvalidatedByServer(_signupForm?.get('password'), 'password')">{{
						_getPasswordErrorMessage(_signupForm?.get('password').errors)
					}}</mat-error>
				</mat-form-field>
			</div>

			<div>
				<button mat-raised-button type="submit" class="btn signup-btn" [disabled]="!_signupForm?.valid">SIGN UP</button>
			</div>
		</form>
	</div>

	<div class="form-container sign-in-container" [ngClass]="_routeAnimationsElements">
		<form [formGroup]="signinForm" #signinFormDirective="ngForm" (ngSubmit)="_onSignin()" role="form" novalidate>
			<h3>Sign In</h3>

			<div>
				<mat-form-field appearance="standard">
					<mat-label>E-mail</mat-label>
					<input matInput formControlName="email" type="email" autocomplete="email" />
					<mat-error *ngIf="_ifControlFieldIsInvalid(signinForm?.get('email'), 'email')">{{
						_getEmailErrorMessage(signinForm?.get('email').errors)
					}}</mat-error>
					<mat-icon matSuffix>email</mat-icon>
				</mat-form-field>
			</div>

			<div>
				<mat-form-field appearance="standard">
					<mat-label>Password</mat-label>
					<input matInput formControlName="password" type="password" autocomplete="current-password" />
					<mat-error *ngIf="signinForm?.get('password').invalid">{{ _fieldRequiredMessage }}</mat-error>
					<mat-icon matSuffix>lock</mat-icon>
				</mat-form-field>
			</div>

			<div class="form-group text-center">
				<button mat-raised-button type="submit" class="btn" [disabled]="!signinForm?.valid">SIGN IN</button>
			</div>

			<div class="form-group">
				<span class="forgot">Forgot password ?</span>
			</div>
		</form>
	</div>

	<div class="overlay-container">
		<div class="overlay" [ngClass]="_routeAnimationsElements">
			<div class="overlay-panel overlay-left">
				<h1>Welcome Back!</h1>
				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod</p>
				<button mat-raised-button (click)="_switchToSignin(signupFormDirective)" class="ghost">SIGN IN</button>
			</div>
			<div class="overlay-panel overlay-right">
				<h1>Hello World!</h1>
				<p>
					Lorem ipsum dolor sit amet,<br />
					sed do eiusmod tempor incididunt.
				</p>
				<button mat-raised-button (click)="_switchToSignup(signinFormDirective)" class="ghost">CREATE ACCOUNT</button>
			</div>
		</div>
	</div>
</div>
